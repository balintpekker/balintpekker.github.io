<?xml version="1.0" encoding="UTF-8"?><rss xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:content="http://purl.org/rss/1.0/modules/content/" xmlns:atom="http://www.w3.org/2005/Atom" version="2.0"><channel><title><![CDATA[RSS Feed for planet]]></title><description><![CDATA[A Drupal related blog Written by Balint Pekker, a software engineer being really good at turning caffeine into code.]]></description><link>https://bpekker.dev</link><generator>GatsbyJS</generator><lastBuildDate>Sat, 23 Dec 2023 09:11:32 GMT</lastBuildDate><item><title><![CDATA[Attributes In Drupal]]></title><description><![CDATA[Drupal 10.2 is out, with an easier content management by improving user experience, and with some performance improvements in caching and…]]></description><link>https://bpekker.dev/attributes-in-drupal/</link><guid isPermaLink="false">https://bpekker.dev/attributes-in-drupal/</guid><pubDate>Mon, 18 Dec 2023 13:01:03 GMT</pubDate><content:encoded>&lt;p&gt;&lt;a href=&quot;https://www.drupal.org/project/drupal/releases/10.2.0&quot;&gt;Drupal 10.2&lt;/a&gt; is out, with an easier content management by improving user experience, and with some performance improvements in caching and HTTP responses. It is also compatible with PHP 8.3, and it started using PHP attributes.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;#how-does-the-code-change&quot;&gt;TL;DR; - Jump to the &apos;How to&apos; section&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;what-are-attributes-in-php&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#what-are-attributes-in-php&quot; aria-label=&quot;what are attributes in php permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What are attributes in PHP?&lt;/h3&gt;
&lt;p&gt;They introduce a flexible and standardized approach to add metadata to your code — similar to Doctrine annotations —, enhancing readability and documentation. Attributes are declared using the &lt;code class=&quot;language-text&quot;&gt;#[...]&lt;/code&gt; syntax, positioned above the element to which you want to attach them. These can also take arguments, allowing you to convey specific information. For instance:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;php&quot;&gt;&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token attribute&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;#[&lt;/span&gt;&lt;span class=&quot;token attribute-content&quot;&gt;&lt;span class=&quot;token attribute-class-name class-name&quot;&gt;ExampleAttribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;argument&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name-definition class-name&quot;&gt;ExampleClass&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token comment&quot;&gt;// Class code here.&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To retrieve information about a class which is using attributes, the &lt;a href=&quot;https://www.php.net/manual/en/book.reflection.php&quot;&gt;Reflection API&lt;/a&gt; comes to the rescue. Using its &lt;code class=&quot;language-text&quot;&gt;getAttributes()&lt;/code&gt; method, you&apos;ll find yourself with an array of &lt;a href=&quot;https://www.php.net/manual/en/class.reflectionattribute.php&quot;&gt;ReflectionAttribute&lt;/a&gt; objects:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;php&quot;&gt;&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$class&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;ReflectionClass&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token class-name static-context&quot;&gt;ExampleClass&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;token variable&quot;&gt;$attributes&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$class&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getAttributes&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/** @var \ReflectionAttribute $attribute */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;foreach&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token variable&quot;&gt;$attributes&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$attribute&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$name&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$attribute&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getName&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// &apos;ExampleAttribute&apos;&lt;/span&gt;
    &lt;span class=&quot;token variable&quot;&gt;$arguments&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$attribute&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;getArguments&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;token comment&quot;&gt;// [&apos;argument&apos;] &lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Drupal uses a new class to parse attributes (e.g. from a Block plugin) based on this API, which we will talk about later.&lt;/p&gt;
&lt;h5 id=&quot;handling-sensitive-data-use-case&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#handling-sensitive-data-use-case&quot; aria-label=&quot;handling sensitive data use case permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Handling Sensitive Data (Use Case)&lt;/h5&gt;
&lt;p&gt;In PHP 8.2 a new attribute called &lt;a href=&quot;https://www.php.net/manual/en/class.sensitiveparameter.php&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;#[\SensitiveParameter]&lt;/code&gt;&lt;/a&gt; has been introduced. This attribute proves to be invaluable when dealing with sensitive information in stack traces generated for exceptions. It allows for the redaction of specific parameters, such as passwords, ensuring enhanced security when debugging, or when looking at logs.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: Since PHP 7.4 the &lt;code class=&quot;language-text&quot;&gt;zend.exception_ignore_args = On&lt;/code&gt; setting is available for use which allows to include or exclude arguments from stack traces generated for exceptions.&lt;/p&gt;
&lt;/blockquote&gt;
&lt;p&gt;For example, PDO uses the &lt;code class=&quot;language-text&quot;&gt;$password&lt;/code&gt; as a constructor parameter, and immediately tries to connect to the database. When this fails, the stack trace will include the password:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;PDOException: SQLSTATE[HY000] [2002] No such file or directory in /var/www/html/test.php:3
Stack trace:
#0 /var/www/html/test.php(3): PDO-&gt;__construct(&apos;mysql:host=loca...&apos;, &apos;root&apos;, &apos;password&apos;)
#1 {main}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;When those sensitive parameters are marked by the new attribute, their value will be redacted, meaning instead of &lt;code class=&quot;language-text&quot;&gt;&apos;password&apos;&lt;/code&gt;, we should receive an &lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;Object(SensitiveParameterValue)&lt;/code&gt;&lt;/strong&gt; in the stack trace.&lt;/p&gt;
&lt;p&gt;&lt;em&gt;More information about the attribute can be found in the &lt;a href=&quot;https://wiki.php.net/rfc/redact_parameters_in_back_traces&quot;&gt;RFC&lt;/a&gt;.&lt;/em&gt;&lt;/p&gt;
&lt;h3 id=&quot;why-change-from-doctrine-annotations&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#why-change-from-doctrine-annotations&quot; aria-label=&quot;why change from doctrine annotations permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Why Change From Doctrine Annotations?&lt;/h3&gt;
&lt;p&gt;Doctrine Annotations are primarily used by &lt;a href=&quot;https://github.com/doctrine/orm&quot;&gt;Doctrine ORM&lt;/a&gt;, and they already started to migrate to PHP attributes. Consequently, &lt;strong&gt;annotations might face deprecation sooner or later&lt;/strong&gt;. Given that Drupal utilizes Doctrine Annotations solely for metadata, and with PHP 8 providing a built-in approach for this purpose (further enhanced by PHP 8.1 readonly properties), Drupal has the option to remove the dependency on Doctrine Annotations for good.&lt;/p&gt;
&lt;h5 id=&quot;does-this-mean-i-cant-use-annotations-anymore&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#does-this-mean-i-cant-use-annotations-anymore&quot; aria-label=&quot;does this mean i cant use annotations anymore permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Does this mean I can&apos;t use annotations anymore?&lt;/h5&gt;
&lt;p&gt;Drupal 10.2 lets you use attributes to declare custom classes, methods, parameters, properties or constants, but it does not explicitly use them to maintain backwards compatibility. This means contributed and custom modules can start migrating their code, aligning with the evolving standards (something that Drush 11 already did) before Drupal 11.&lt;/p&gt;
&lt;p&gt;This change will lead to:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Possibly a deprecated &lt;a href=&quot;https://git.drupalcode.org/project/drupal/-/blob/10.2.x/core/lib/Drupal/Component/Annotation/Plugin/Discovery/AnnotatedClassDiscovery.php&quot;&gt;AnnotatedClassDiscovery&lt;/a&gt; removed in Drupal 11.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;A new &lt;a href=&quot;https://git.drupalcode.org/project/drupal/-/blob/10.2.x/core/lib/Drupal/Component/Plugin/Discovery/AttributeClassDiscovery.php&quot;&gt;AttributeClassDiscovery&lt;/a&gt; using Reflection API to find plugins with attributes&lt;/strong&gt; (introduced in Drupal 10.2) - There is &lt;a href=&quot;https://www.drupal.org/project/drupal/issues/3395260&quot;&gt;an active Drupal 11 issue&lt;/a&gt; to investigate possibilities on how to improve performance by using something different than the Reflection API.&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;how-does-the-code-change&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-does-the-code-change&quot; aria-label=&quot;how does the code change permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How does the code change&lt;/h3&gt;
&lt;p&gt;Let&apos;s see Drupal Core&apos;s &lt;code class=&quot;language-text&quot;&gt;PageTitleBlock&lt;/code&gt; for our example, which &lt;a href=&quot;https://git.drupalcode.org/project/drupal/-/blob/10.1.x/core/lib/Drupal/Core/Block/Annotation/Block.php&quot;&gt;in Drupal 10.1, uses annotations&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;php&quot;&gt;&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token php language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Drupal&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Core&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Block&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Plugin&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Block&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * Provides a block to display the page title.
 *
 * @Block(
 *   id = &quot;page_title_block&quot;,
 *   admin_label = @Translation(&quot;Page title&quot;),
 *   forms = {
 *     &quot;settings_tray&quot; = FALSE,
 *   },
 * )
 */&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name-definition class-name&quot;&gt;PageTitleBlock&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BlockBase&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TitleBlockPluginInterface&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;However, &lt;a href=&quot;https://git.drupalcode.org/project/drupal/-/blob/10.2.x/core/lib/Drupal/Core/Block/Attribute/Block.php&quot;&gt;in Drupal 10.2 it uses PHP attributes&lt;/a&gt;.&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;php&quot;&gt;&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token php language-php&quot;&gt;&lt;span class=&quot;token delimiter important&quot;&gt;&amp;lt;?php&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;namespace&lt;/span&gt; &lt;span class=&quot;token package&quot;&gt;Drupal&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Core&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Block&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Plugin&lt;span class=&quot;token punctuation&quot;&gt;\&lt;/span&gt;Block&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token keyword&quot;&gt;use&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;...&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;/**
 * Provides a block to display the page title.
 */&lt;/span&gt;
&lt;span class=&quot;token attribute&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;#[&lt;/span&gt;&lt;span class=&quot;token attribute-content&quot;&gt;&lt;span class=&quot;token attribute-class-name class-name&quot;&gt;Block&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;token attribute-class-name class-name&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string double-quoted-string&quot;&gt;&quot;page_title_block&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token attribute-class-name class-name&quot;&gt;admin_label&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token attribute-class-name class-name&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;token attribute-class-name class-name&quot;&gt;TranslatableMarkup&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string double-quoted-string&quot;&gt;&quot;Page title&quot;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token attribute-class-name class-name&quot;&gt;forms&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
    &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;settings_tray&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token attribute-class-name class-name&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;]&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;token class-name-definition class-name&quot;&gt;PageTitleBlock&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;extends&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;BlockBase&lt;/span&gt; &lt;span class=&quot;token keyword&quot;&gt;implements&lt;/span&gt; &lt;span class=&quot;token class-name&quot;&gt;TitleBlockPluginInterface&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The &lt;a href=&quot;https://www.drupal.org/node/3395575&quot;&gt;change record&lt;/a&gt; says currently all Actions and Blocks are converted to use attributes, but what if I am a contrib/custom module developer and I define custom plugins?&lt;/p&gt;
&lt;p&gt;If we carefully inspect the &lt;code class=&quot;language-text&quot;&gt;DefaultPluginManager&lt;/code&gt; in Drupal 10.2, we notice there is a new constructor parameter called &lt;code class=&quot;language-text&quot;&gt;$plugin_definition_attribute_name&lt;/code&gt; which is initially &lt;code class=&quot;language-text&quot;&gt;NULL&lt;/code&gt;. This means, you&apos;ll need to add a new parameter to the parent constructor call (at least until &lt;code class=&quot;language-text&quot;&gt;$plugin_definition_annotation_name&lt;/code&gt; parameter is still in use and not deprecated.)&lt;/p&gt;
&lt;p&gt;If we check the &lt;code class=&quot;language-text&quot;&gt;BlockManager&lt;/code&gt; class, you can see the parent constructor call uses &lt;strong&gt;&lt;code class=&quot;language-text&quot;&gt;Block::class&lt;/code&gt;&lt;/strong&gt; as the &lt;strong&gt;5th parameter&lt;/strong&gt; in 10.2&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;php&quot;&gt;&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token comment&quot;&gt;// Before Drupal 10.2&lt;/span&gt;
&lt;span class=&quot;token keyword static-context&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;__construct&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;Plugin/Block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$namespaces&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$module_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;Drupal\Core\Block\BlockPluginInterface&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;Drupal\Core\Block\Annotation\Block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;

&lt;span class=&quot;token comment&quot;&gt;// After&lt;/span&gt;
&lt;span class=&quot;token keyword static-context&quot;&gt;parent&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;__construct&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;Plugin/Block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$namespaces&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$module_handler&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;Drupal\Core\Block\BlockPluginInterface&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token class-name static-context&quot;&gt;Block&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token keyword&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;Drupal\Core\Block\Annotation\Block&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This parameter is then stored in the &lt;code class=&quot;language-text&quot;&gt;$pluginDefinitionAttributeName&lt;/code&gt; property, and that gets used later in the &lt;code class=&quot;language-text&quot;&gt;getDiscovery()&lt;/code&gt; method of &lt;a href=&quot;https://git.drupalcode.org/project/drupal/-/blob/10.2.x/core/lib/Drupal/Core/Plugin/DefaultPluginManager.php#L290&quot;&gt;DefaultPluginManager&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;As you can see, this method then decides if it should use:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://git.drupalcode.org/project/drupal/-/blob/10.2.x/core/lib/Drupal/Core/Plugin/Discovery/AttributeDiscoveryWithAnnotations.php&quot;&gt;AttributeDiscoveryWithAnnotations&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://git.drupalcode.org/project/drupal/-/blob/10.2.x/core/lib/Drupal/Core/Plugin/Discovery/AttributeClassDiscovery.php&quot;&gt;AttributeClassDiscovery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://git.drupalcode.org/project/drupal/-/blob/10.2.x/core/lib/Drupal/Core/Plugin/Discovery/AnnotatedClassDiscovery.php&quot;&gt;AnnotatedClassDiscovery&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;or &lt;a href=&quot;https://git.drupalcode.org/project/drupal/-/blob/10.2.x/core/lib/Drupal/Core/Plugin/Discovery/ContainerDerivativeDiscoveryDecorator.php&quot;&gt;ContainerDerivativeDiscoveryDecorator&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;thoughts&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#thoughts&quot; aria-label=&quot;thoughts permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Thoughts&lt;/h3&gt;
&lt;p&gt;When creating new plugins from now on, developers should primarily focus on using Attributes in the plugin definitions instead of Doctrine Annotations and ensuring that the appropriate parameters are included in the parent constructor call. The good news is that the process of registering the plugin in the &lt;code class=&quot;language-text&quot;&gt;services.yml&lt;/code&gt; file remains unchanged, allowing the developers to continue using &lt;code class=&quot;language-text&quot;&gt;parent: default_plugin_manager&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;While the changes may seem subtle, the adoption of PHP attributes opens up new possibilities leading to a more standardized, advanced way of code organization and metadata handling.&lt;/p&gt;</content:encoded><tags>attributes, doctrine, php, planet</tags></item><item><title><![CDATA[Single Directory Components]]></title><description><![CDATA[The Drupal frontend development has long been intricate and demanding, however Drupal 10 introduces a game-changer — Single Directory…]]></description><link>https://bpekker.dev/single-directory-components/</link><guid isPermaLink="false">https://bpekker.dev/single-directory-components/</guid><pubDate>Tue, 12 Dec 2023 18:12:03 GMT</pubDate><content:encoded>&lt;p&gt;The Drupal frontend development has long been intricate and demanding, however Drupal 10 introduces a game-changer — &lt;a href=&quot;https://www.drupal.org/project/sdc&quot;&gt;Single Directory Components (SDC)&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;Today we&apos;ll dive into the challenges of Drupal frontend development, explore how other systems handle UI components, and how SDC can change the way we build Drupal websites and applications. &lt;strong&gt;We&apos;ll also cover the creating and rendering of the components&lt;/strong&gt;.&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;#how-to-create-a-component&quot;&gt;TL;DR; - Jump to the &apos;How to&apos; section&lt;/a&gt;&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;demanding-drupal-frontend&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#demanding-drupal-frontend&quot; aria-label=&quot;demanding drupal frontend permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Demanding Drupal Frontend&lt;/h3&gt;
&lt;p&gt;For many developers over the years, working with Drupal themes has been a source of confusion and complexity. The process of attaching libraries in a performance-optimized way — where you only load libraries when the component is used — can be overly complicated. Currently, to be a successful Drupal frontend developer often demands an in-depth understanding of the rendering mechanisms, posing a significant learning curve that shouldn&apos;t be necessary.&lt;/p&gt;
&lt;p&gt;Other content management systems (like WordPress with its &lt;a href=&quot;https://wordpress.org/patterns/&quot;&gt;Block Pattern Directory&lt;/a&gt;) have already embraced the concept of components or plugins. These reduce development time and enhance reusability, allowing for a more modular approach and an efficient site-building process.&lt;/p&gt;
&lt;p&gt;Imagine a common scenario where a client walks in with a request for a one-pager featuring a jumbotron, news feed, services, latest events showcase, testimonials, and possibly a contact form. Traditionally, developing this from scratch would be a time-consuming process, involving the creation and styling of these components, and the next client could ask for something similar. You would need to do the same tasks over and over again. However, with pre-defined SDC components at hand, the development time can be reduced, with the possibility of using them on different websites with slightly different styling.&lt;/p&gt;
&lt;p&gt;This new initiative — which is already an experimental feature of Drupal core &lt;em&gt;(at the time of writing)&lt;/em&gt; — has started because many companies already have custom implementations of such components (some use the &lt;a href=&quot;https://www.drupal.org/project/ui_patterns&quot;&gt;UI Patterns&lt;/a&gt; module, others developed custom components), and standardizing these could help in simplifying the frontend, removing barriers, and possibly luring in more developers, which can mean some contributed components as well.&lt;/p&gt;
&lt;h3 id=&quot;what-is-sdc&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#what-is-sdc&quot; aria-label=&quot;what is sdc permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;What Is SDC&lt;/h3&gt;
&lt;p&gt;As mentioned above, SDC introduces a standardized structure for organizing frontend components, making them more reusable and easily maintainable. Here are some of the features it offers:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;&lt;ins&gt;&lt;em&gt;Single Directory Component&lt;/em&gt; approach&lt;/ins&gt;: Everything you need for your component is in the same directory, whether it&apos;s &lt;code class=&quot;language-text&quot;&gt;.twig&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;.css&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt;, or &lt;code class=&quot;language-text&quot;&gt;.php&lt;/code&gt; files. This approach ensures that there is no unaccounted code in other places in the system related to your components. This results in fewer errors when making changes or deleting a twig file somewhere deep in the code.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;ins&gt;Cacheable YML plugin definitions:&lt;/ins&gt; The team behind SDC decided that components should be plugins to make them cacheable. Therefore, &lt;strong&gt;components will be discovered if&lt;/strong&gt;:&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;they are in a directory called &lt;code class=&quot;language-text&quot;&gt;components&lt;/code&gt; in your module or theme (at any depth)&lt;/li&gt;
&lt;li&gt;and if they have a &lt;code class=&quot;language-text&quot;&gt;my_component.component.yml&lt;/code&gt; file&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;ins&gt;Automated library generation:&lt;/ins&gt; Most components will have &lt;code class=&quot;language-text&quot;&gt;.css&lt;/code&gt; and/or &lt;code class=&quot;language-text&quot;&gt;.js&lt;/code&gt; files in the component&apos;s folder, and SDC will generate and attach these on the fly.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;ins&gt;Component API&lt;/ins&gt;: SDC uses JSON schema for component definitions to contain their props. While Drupal employs a slightly different approach, the most popular choice is JSON schema for validating JSON and YML data structures. Currently, these schemas for props are optional but can be made required by using &lt;code class=&quot;language-text&quot;&gt;enforce_sdc_schemas: true&lt;/code&gt; in your theme info file.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;&lt;ins&gt;TWIG compatibility&lt;/ins&gt;: To print a component, you can use  &lt;code class=&quot;language-text&quot;&gt;include&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;extend&lt;/code&gt;, or &lt;code class=&quot;language-text&quot;&gt;embed&lt;/code&gt; as well. However, SDC somewhat differs from the usual Drupal templates. Drupal uses base hooks to render different constructs like entities, blocks, forms, or views, with different variables available in each of these pre-defined TWIG templates.&lt;/p&gt;
&lt;p&gt;These templates were filled with a lot of variables and HTML, usually resulting in an un-maintainable code. However, SDC does not replace the Drupal templates, the components can be embedded in them, meaning those templates will be significantly shorter.&lt;/p&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;h3 id=&quot;how-to-create-a-component&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-to-create-a-component&quot; aria-label=&quot;how to create a component permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How To Create A Component&lt;/h3&gt;
&lt;p&gt;You can either use the &lt;a href=&quot;https://www.drupal.org/project/cl_generator&quot;&gt;Component Libraries: Generator&lt;/a&gt; module, which is a CLI tool to help you create components, or you can define them manually. For the sake of better understanding, we&apos;ll cover the manual declaration steps:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;Create a new &lt;code class=&quot;language-text&quot;&gt;/components&lt;/code&gt; directory in your theme or module.&lt;/li&gt;
&lt;li&gt;Create a new directory within the &lt;code class=&quot;language-text&quot;&gt;/components&lt;/code&gt; folder with the name of your component. For example, if you want to create a &lt;strong&gt;my-button&lt;/strong&gt; component, then the files would be placed in &lt;code class=&quot;language-text&quot;&gt;/components/my-button&lt;/code&gt; folder.&lt;/li&gt;
&lt;li&gt;Create 2 new files within the component library:
&lt;ul&gt;
&lt;li&gt;A TWIG file with the name of your component (in this case &lt;code class=&quot;language-text&quot;&gt;my-button.twig&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;A YAML file with the &lt;code class=&quot;language-text&quot;&gt;*.component.yml&lt;/code&gt; extension that is also named after your component (in this case &lt;code class=&quot;language-text&quot;&gt;my-button.component.yml&lt;/code&gt;)
&lt;ul&gt;
&lt;li&gt;If you do not know what to put in your YML file, you can put &lt;code class=&quot;language-text&quot;&gt;null&lt;/code&gt; in it (especially if you have a linter) or check the &lt;a href=&quot;https://www.drupal.org/node/3352951&quot;&gt;Annotated example&lt;/a&gt; in Drupal.org&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;li&gt;&lt;ins&gt;&lt;em&gt;Optional&lt;/em&gt;&lt;/ins&gt;: You can create CSS and JS files associated with your component. (&lt;code class=&quot;language-text&quot;&gt;my-button.css&lt;/code&gt; and &lt;code class=&quot;language-text&quot;&gt;my-button.js&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;&lt;ins&gt;&lt;em&gt;Optional&lt;/em&gt;&lt;/ins&gt;: You can also load additional libraries with the &lt;code class=&quot;language-text&quot;&gt;libraryOverrides&lt;/code&gt; key within your component&apos;s YML file if needed (for example minified CSS files from a CDN).&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;So your final directory structure should look something like this:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;text&quot;&gt;&lt;pre class=&quot;language-text&quot;&gt;&lt;code class=&quot;language-text&quot;&gt;|- my-theme
    |- components
        |- my-button
            |- my-button.twig (required)
            |- my-button.component.yml (required)
            |- README.md
            |- thumbnail.png
            |- my-button.js
            |- my-button.css
            |- assets
                |- img1.png&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3 id=&quot;props-and-slots&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#props-and-slots&quot; aria-label=&quot;props and slots permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Props And Slots&lt;/h3&gt;
&lt;p&gt;Usually, when we needed a component in multiple pages with different types of content, or possibly different styling (like the color of a button), those components were duplicated, and required changes were made in the newer version of the component. This created extra code and overhead for a developer to worry about. Not to mention, if the component needed structural changes, they had to be made as many times as there were component copies in the code.&lt;/p&gt;
&lt;p&gt;The power of SDC is that it separates the component itself from the data passed to it. This means there is no need for duplicating components with the same structure; we just need to change the data passed to it. In SDC, props and slots are the ways to pass data to these components, which can be familiar for Vue and React developers.&lt;/p&gt;
&lt;h5 id=&quot;requirements-for-using-props-and-slots&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#requirements-for-using-props-and-slots&quot; aria-label=&quot;requirements for using props and slots permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Requirements For Using Props And Slots&lt;/h5&gt;
&lt;p&gt;As mentioned in the &quot;&lt;a href=&quot;#what-is-sdc&quot;&gt;What is SDC&lt;/a&gt;&quot; section, you can enforce the usage of SDC schemas, however by default the content of the YAML file is ignored by the TWIG file. This means, you can have an empty YAML file, and &lt;strong&gt;props and slots could be declared and used in the TWIG template without the requirements of defining it in the YAML file&lt;/strong&gt;.&lt;/p&gt;
&lt;h5 id=&quot;how-to-use-props&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#how-to-use-props&quot; aria-label=&quot;how to use props permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;How To Use Props&lt;/h5&gt;
&lt;p&gt;In your Twig you can define your own props as Twig variables, so for example a button would look like:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;twig&quot;&gt;&lt;pre class=&quot;language-twig&quot;&gt;&lt;code class=&quot;language-twig&quot;&gt;my-button.twig
&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;&lt;/span&gt;a&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token twig language-twig&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;{{&lt;/span&gt; btnclass &lt;span class=&quot;token delimiter punctuation&quot;&gt;}}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token attr-name&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;token attr-value&quot;&gt;&lt;span class=&quot;token punctuation attr-equals&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;token twig language-twig&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;{{&lt;/span&gt; link &lt;span class=&quot;token delimiter punctuation&quot;&gt;}}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&quot;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token twig language-twig&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;{{&lt;/span&gt; text &lt;span class=&quot;token delimiter punctuation&quot;&gt;}}&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token tag&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&amp;lt;/&lt;/span&gt;a&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;&gt;&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The component will be rendered eventually using &lt;code class=&quot;language-text&quot;&gt;include&lt;/code&gt;, &lt;code class=&quot;language-text&quot;&gt;extend&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;embed&lt;/code&gt; in a Twig template, and when that happens the props will be populated. If no props has been given to the component, or that prop is not declared then it would simply be ignored.&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;Include without props: &lt;code class=&quot;language-text&quot;&gt;{{ include(&apos;my-theme:my-button&apos;) }}&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Include with props:
&lt;ul&gt;
&lt;li&gt;To include with props, you need to pass the props in a JSON string, therefore your &lt;code class=&quot;language-text&quot;&gt;include&lt;/code&gt; statement would look something like this:
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;twig&quot;&gt;&lt;pre class=&quot;language-twig&quot;&gt;&lt;code class=&quot;language-twig&quot;&gt;&lt;span class=&quot;token twig language-twig&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;{{&lt;/span&gt; include&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;my-theme:my-button&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  link&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;http://google.com&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  text&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;Google It!&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  btnclass&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;red&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;token delimiter punctuation&quot;&gt;}}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
And if you want to include the same component with different props, you can do so:
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;twig&quot;&gt;&lt;pre class=&quot;language-twig&quot;&gt;&lt;code class=&quot;language-twig&quot;&gt;&lt;span class=&quot;token twig language-twig&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;{{&lt;/span&gt; include&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;my-theme:my-button&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt; link&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;https://www.drupal.org&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; text&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;Drupal It!&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; btnclass&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;blue&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;}}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;The result (with proper CSS styling on the different classes):
&lt;span
      class=&quot;gatsby-resp-image-wrapper&quot;
      style=&quot;position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 150px; &quot;
    &gt;
      &lt;a
    class=&quot;gatsby-resp-image-link&quot;
    href=&quot;/static/4489b028dede889969d556ac1982ca8b/8a4e8/my-buttons.png&quot;
    style=&quot;display: block&quot;
    target=&quot;_blank&quot;
    rel=&quot;noopener&quot;
  &gt;
    &lt;span
    class=&quot;gatsby-resp-image-background-image&quot;
    style=&quot;padding-bottom: 100%; position: relative; bottom: 0; left: 0; background-image: url(&apos;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAUCAYAAACNiR0NAAAACXBIWXMAAAsTAAALEwEAmpwYAAACLklEQVR42rWU20tUURTGzziVXRwNZkDG8oKhpUkvms7YCFEYaTVQOhZ0Gx2LoJck8dKDPfRQ0H82+TAQ9BIEzpgRFD6U+qL719quc+YcywrE2bDm22uzzjfrO+vbx2Gfl1PeGQObm3sL++wfhPvWocdeLMLUFMzOwvNpmJvzY35ez+3e4syM4rTULSzA6mpZpbPdsl35vNBLw1VViv+LUEixthaWlpRjaytAuLioBQMDcGUQerqh97xgD/QnIZGA9A1obZWaC/BoEhoaIBKB5eV/EKZSUpyD+/cgNwG3x+DNayV4IZJTQpbog0nJo1HtsFTahdCTHA6rbCvJkxWLaSdByd6rqavT918mlJ/tVShAfT20tEBj486Ix1VeczM0Nfl44iR0dcHKSmAo3hJi82Md83OXWN/ArG3sPFvz95X1oaf400eZQ9owPmLI3jLkMoaJUR9tjFsc0Rqb27qnDwzfv/mXzfFm8s6dSURmUmPnIfsD9t27YfODboQlDrs1MTtk34bSoUtYENcck4IhcU02A5mr0H0KxoZhWKyZvigOGhILnpOL8wwuiUWPS327GOBz6S+ER6TgmjycuwM3LwvBdXj7Ch7fhZdy07Kj4vM2ePJQPH9aCduivxGWfZ1XCTVir6OuNPsH0WrJQyqz2kqVOOTomc3jVnIx2KE7lA/vVWJ/p1yEDsGzkBTsbZf8jJ4nO13sUOyTLgfl0nz9EhhK5T6wlSC0Le8lgoS/AHSqH8bOOBZEAAAAAElFTkSuQmCC&apos;); background-size: cover; display: block;&quot;
  &gt;&lt;/span&gt;
  &lt;img
        class=&quot;gatsby-resp-image-image&quot;
        alt=&quot;Google It!, Drupal It!&quot;
        title=&quot;&quot;
        src=&quot;/static/4489b028dede889969d556ac1982ca8b/8a4e8/my-buttons.png&quot;
        srcset=&quot;/static/4489b028dede889969d556ac1982ca8b/8a4e8/my-buttons.png 150w&quot;
        sizes=&quot;(max-width: 150px) 100vw, 150px&quot;
        style=&quot;width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;&quot;
        loading=&quot;lazy&quot;
        decoding=&quot;async&quot;
      /&gt;
  &lt;/a&gt;
    &lt;/span&gt;&lt;/p&gt;
&lt;h3 id=&quot;rendering-the-component&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#rendering-the-component&quot; aria-label=&quot;rendering the component permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Rendering The Component&lt;/h3&gt;
&lt;p&gt;You can render components the same 2 ways one would render HTML in Drupal, by using a render array, or TWIG:&lt;/p&gt;
&lt;h5 id=&quot;using-a-render-array&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#using-a-render-array&quot; aria-label=&quot;using a render array permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using A Render Array&lt;/h5&gt;
&lt;p&gt;Currently, SDC introduces a render element which we can use called &lt;code class=&quot;language-text&quot;&gt;\Drupal\sdc\Element\ComponentElement&lt;/code&gt;. There is an already fixed &lt;a href=&quot;https://www.drupal.org/project/drupal/issues/3365693&quot;&gt;issue&lt;/a&gt; to move this to the core namespace, so you might find it under Drupal core. Let&apos;s see the code:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;php&quot;&gt;&lt;pre class=&quot;language-php&quot;&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;token variable&quot;&gt;$element&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;my-button&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;
  &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;#type&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;component&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;#component&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;my-theme:my-button,
  &apos;&lt;/span&gt;&lt;span class=&quot;token comment&quot;&gt;#props&apos; =&gt; [&lt;/span&gt;
    &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;link&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token class-name static-context&quot;&gt;Url&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;fromUri&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;http://google.com&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;absolute&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token constant boolean&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;text&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token variable&quot;&gt;$this&lt;/span&gt;&lt;span class=&quot;token operator&quot;&gt;-&gt;&lt;/span&gt;&lt;span class=&quot;token function&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;Google It!&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;btnclass&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;blue&apos;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;token string single-quoted-string&quot;&gt;&apos;#slots&apos;&lt;/span&gt; &lt;span class=&quot;token operator&quot;&gt;=&gt;&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Props and slots will be passed to your component the same way as you would pass them to a Twig template, only you don&apos;t need to implement &lt;code class=&quot;language-text&quot;&gt;hook_theme()&lt;/code&gt;.&lt;/p&gt;
&lt;h5 id=&quot;using-twig&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#using-twig&quot; aria-label=&quot;using twig permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Using TWIG&lt;/h5&gt;
&lt;p&gt;It is much simpler to use Twig for rendering the component, you only need to &lt;code class=&quot;language-text&quot;&gt;include&lt;/code&gt; or &lt;code class=&quot;language-text&quot;&gt;embed&lt;/code&gt; it:&lt;/p&gt;
&lt;div class=&quot;gatsby-highlight&quot; data-language=&quot;twig&quot;&gt;&lt;pre class=&quot;language-twig&quot;&gt;&lt;code class=&quot;language-twig&quot;&gt;&lt;span class=&quot;token twig language-twig&quot;&gt;&lt;span class=&quot;token delimiter punctuation&quot;&gt;{{&lt;/span&gt; include&lt;span class=&quot;token punctuation&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;token string&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;my-theme:my-button&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;token punctuation&quot;&gt;{&lt;/span&gt;
  text&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;Google It!&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;,&lt;/span&gt;
  btnclass&lt;span class=&quot;token punctuation&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;token string&quot;&gt;&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;blue&lt;span class=&quot;token punctuation&quot;&gt;&apos;&lt;/span&gt;&lt;/span&gt;
&lt;span class=&quot;token punctuation&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;token punctuation&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;token delimiter punctuation&quot;&gt;}}&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Now that we have components we can build a component library. Thanks to &lt;a href=&quot;https://www.drupal.org/project/cl_server&quot;&gt;CL Server&lt;/a&gt; this is super easy!&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h3 id=&quot;join-the-discussion&quot; style=&quot;position:relative;&quot;&gt;&lt;a href=&quot;#join-the-discussion&quot; aria-label=&quot;join the discussion permalink&quot; class=&quot;anchor before&quot;&gt;&lt;svg aria-hidden=&quot;true&quot; focusable=&quot;false&quot; height=&quot;16&quot; version=&quot;1.1&quot; viewBox=&quot;0 0 16 16&quot; width=&quot;16&quot;&gt;&lt;path fill-rule=&quot;evenodd&quot; d=&quot;M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z&quot;&gt;&lt;/path&gt;&lt;/svg&gt;&lt;/a&gt;Join The Discussion&lt;/h3&gt;
&lt;p&gt;To engage with SDC and stay up-to-date with the latest improvements, join the discussion in the &lt;a href=&quot;https://drupal.slack.com/archives/C4EDNHFGS&quot;&gt;#components&lt;/a&gt; slack channel. Share your experience, learn from others, and contribute to shaping the future of Drupal frontend development.&lt;/p&gt;</content:encoded><tags>frontend, initiative, planet, sdc</tags></item></channel></rss>